# 🌱 AI기반 예측형 스마트 관개 시스템

> **팀명:** 내가 그린 스마트팜  
> **대회:** 2025 SCNU 그린스마트팜 청소년 해커톤 경진대회

## 📋 프로젝트 개요

IoT 센서 네트워크와 AI 머신러닝 예측 알고리즘을 결합하여, **토양 수분이 부족해지기 전에 미리 예측**하고 최적의 타이밍에 자동 급수하는 시스템입니다.

### 핵심 특징
- **예측형 관개**: 1시간 후 토양 수분을 예측하여 선제적 급수
- **듀얼 센서**: 상단/하단 토양 수분 센서로 정확한 측정
- **AI 기반**: LinearRegression 모델로 수분 변화 예측

## 📁 파일 구조

```
smart_irrigation/
├── main.py              # 메인 통합 모듈
├── data_collector.py    # 데이터 수집/저장 모듈
├── ai_predictor.py      # AI 예측 모델
├── visualizer.py        # 시각화 모듈
├── requirements.txt     # Python 패키지
└── arduino_code/
    └── smart_irrigation.ino  # 아두이노 코드
```

## 🔧 하드웨어 구성

| 부품 | 수량 | 연결 핀 |
|------|------|---------|
| Arduino Uno R3 | 1 | - |
| 토양 수분 센서 | 2 | A0, A1 |
| DHT11 온습도 센서 | 1 | D4 |
| 5V 릴레이 모듈 | 1 | D2 |
| 12V 전자밸브 (NC) | 1 | 릴레이 NO |
| 12V 소형 펌프 | 1 | 직렬 연결 |

## 💻 소프트웨어 설치

```bash
# 1. Python 패키지 설치
pip install -r requirements.txt

# 2. 시뮬레이션 실행 (테스트)
python main.py

# 3. 실제 모드 실행 (아두이노 연결 시)
python main.py --real
```

## 🚀 사용 방법

### 1. 시뮬레이션 모드 (테스트용)
```bash
python main.py
```
- 7일치 시뮬레이션 데이터 생성
- AI 모델 학습 및 평가
- 그래프 자동 생성

### 2. 실제 모드 (해커톤 당일)
```bash
python main.py --real
```
- 아두이노와 시리얼 연결
- 실시간 센서 데이터 수집
- 예측 기반 자동 급수

## 📊 AI 모델

### 특성 (Features)
1. 현재 토양 수분 (%)
2. 1시간 전 토양 수분 (%)
3. 수분 변화율 (%/h)
4. 온도 (°C)
5. 습도 (%)
6. 시간대 (hour)

### 타겟 (Target)
- 1시간 후 토양 수분 (%)

### 급수 로직
```
IF 예측값 < 30% THEN
    급수 명령 전송 (180초)
END IF
```

## 🔌 회로 연결

```
[Arduino Uno]              [Relay Module]         [12V System]
    D2 ─────────────────> IN                      
    5V ─────────────────> VCC      COM ─────────> 12V (+)
    GND ────────────────> GND      NO ──────────> Valve (+)
                                                      │
    A0 <── Soil Sensor 1 (Upper)                      ↓
    A1 <── Soil Sensor 2 (Lower)              Valve (-) ─> Pump (+)
    D4 <── DHT11 Data                                      │
                                              Pump (-) ──> 12V (-)
```

## 📈 성능 지표

| 지표 | 값 |
|------|-----|
| R² Score | 0.42 |
| RMSE | 4.87% |
| MAE | 1.62% |

## 👥 팀원

| 이름 | 학번 | 역할 |
|------|------|------|
| 박현빈 | 20244300 | 팀장, AI 개발 |
| 김가연 | 20234307 | ppt 제작 |
| 이영민 | 20234280 | 하드웨어 |

## 📜 라이선스

MIT License - 2025 내가 그린 스마트팜
